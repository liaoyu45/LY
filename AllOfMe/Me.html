<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title></title>
	<style type="text/css">
		html, body {
			width: 100%;
			height: 100%;
			margin: 0;
		}

			body > div {
				width: 133px;
				height: 133px;
				border-radius: 31px;
				border: 3px solid #ebd5d5;
				background-color: #fac4c4;
				position: fixed;
			}

		#mainButton {
		}
	</style>
</head>
<body>
	<script src="god.js"></script>
	<div id="life"></div>
	<div id="work"></div>
	<div id="joy"></div>
	<div id="mainButton"></div>
	<script type="text/javascript">
		function distance(p, pp) {
			return Math.sqrt(Math.pow(p.pageX - pp.pageX, 2) + Math.pow(p.pageY - pp.pageY, 2));
		}
		var main;
		function start(e) {
			if (main) {
				return;
			}
			main = {};
			var t0 = e.targetTouches[0];
			for (var i in t0) {
				main[i] = t0[i];
			}
			mainButton.addEventListener("touchmove", move);
		}
		function move(e) {
			var t0 = e.targetTouches[0];
			if (distance(main, t0) > 33) {
				document.title = "hahwlerh";
			}
		}
		function myfunction(width, height, fx, fy, dx, dy) {
			if (dx < 0 || dy < 0 || dx > width || dy > height) {
				return 0;
			}
			joy.innerHTML = "";
			[...arguments].forEach(e=>joy.innerHTML += e + '|');
			var k = getK(dx, dy, fx, fy);
			var kk = getK(0, 0, fx, fx);
			var kkk = getK(width, 0, fx, fy);
			var kkkk = getK(width, height, fx, fy);
			var kkkkk = getK(0, height, fx, fy);
			if ((k > kk || k < kkk) && dy < fy) {
				return Math.abs(dy / fy);
			}
			if (k > kkk && k < kkkk && dx > fx) {
				return Math.abs((width - dx) / (width - fx));
			}
			if ((k > kkkk || k < kkkkk) && dy > fy) {
				return Math.abs((height - dy) / (height - fy));
			}
			return Math.abs(dx / dy);
		}
		function getK(x, y, xx, yy) {
			return (yy - y) / (xx - x);
		}
		god.window.dragable(mainButton, mainButton, true).onmove(function (x, y, nx, ny) {
			var w = myfunction(document.body.clientWidth - mainButton.clientHeight, document.body.clientHeight - mainButton.clientHeight, x, y, nx, ny);
			mainButton.innerHTML = x + '   ' + y + ' ' + nx + '   ' + ny + '' + '   <br/>' + w;
		});
		god.window.setCenter(mainButton, 1);
		//mainButton.addEventListener("touchstart", start);
	</script>
</body>
</html>
