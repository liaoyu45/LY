<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title></title>
	<script src="Scripts/knockout-3.4.2.debug.js"></script>

	<script src="/Scripts/Gods/Him.js"></script>
	<script src="/Scripts/Gods/CSharp/Me.js"></script>
	<script src="/Scripts/Gods/His.js"></script>
	<script src="/Scripts/AllOfMe/Daily/ViewModel.js"></script>
	<script src="/Scripts/AllOfMe/Daily/Callbacks.js"></script>
	<script src="/Scripts/AllOfMe/Daily/Effects.js"></script>

	<link href="App_Themes/AllOfMe/Daily.css" rel="stylesheet" />
</head>
<body>
	<!--ko if:I.FindMyself()-->
	<h1>
		<a style="font-size: 111px;" data-bind="text: I.Name" href="javascript:me.Leave();"></a>
		<!--ko if:DailyState-->
		<span data-bind="text: DailyState"></span>
		<!--/ko-->
	</h1>
	<!--ko if:!DailyState()-->
	<form>
		<label>今天：<input type="text" name="dailyContent" placeholder="感觉如何？开心就多写点。" /></label>
		<input type="button" value="确定" onclick="me.WakeUp(this);" />
	</form>
	<!--/ko-->
	<!--/ko-->
	<!--ko if:!I.FindMyself()-->
	<form>
		<label>用户名：<input type="text" required name="name" data-bind="value: I.Name" /></label>
		<label>密码：<input type="password" required name="password" /></label>
		<input type="button" value="确定" onclick="me.FindMyself(this);" />
	</form>
	<!--/ko-->
	<!--ko if:I.FindMyself()&&!CurrentPlan()-->
	<form>
		<label>我想要：<input type="text" name="thing" data-bind="value: PendingPlan" required /></label>
		<input type="button" onclick="me.Desire(this)" value="确定" />
	</form>
	<form data-him="QueryPlans">
		<label>开始最早：<input type="date" name="start" /></label>
		<label>结束最晚：<input type="date" name="end" /></label>
		<label>达成最早：<input type="date" name="start" /></label>
		<label>达成最晚：<input type="date" name="end" /></label>
		<label>已放弃：<input type="checkbox" value="abandoned" /></label>
		<label>已完成：<input type="checkbox" value="done" /></label>
		<input type="button" value="确定" onclick="me.QueryPlans(this);" />
	</form>
	<ul data-bind="foreach: Plans">
		<li>
			<span data-bind="text: AppearTime"></span>-<span data-bind="text: DoneTime"></span>
			<h2 data-bind="text: Content,click:function(){me.QueryEfforts(Id);}"></h2>
		</li>
	</ul>
	<!--/ko-->
	<div data-bind="with:CurrentPlan">
		<h2 data-bind="text:Content"></h2>
		<!--ko if:Efforts.length-->
		<form>
			<label>从：<input type="date" data-bind="value:AppearTime" name="effortStart" /></label>
			<label>至：<input type="date" name="effortEnd" /></label>
			<input type="button" value="确定" onclick="me.QueryEfforts(this);" />
		</form>
		<!--/ko-->
		<ul data-bind="foreach:Efforts">
			<li>
				<span data-bind="text: AppearTime"></span>
				<article data-bind="text: Content"></article>
			</li>
		</ul>
		<form style="display:inline;width:100%;">
			继续努力：
			<input type="hidden" name="planId" data-bind="value: Id" />
			<input type="text" name="content" data-bind="value: $root.PendingEffort" required />
			<input type="button" value="确定" onclick="me.Pay(this);" />
			<input type="button" value="放弃" onclick="me.GiveUp(this);" />
		</form>
	</div>
</body>
</html>