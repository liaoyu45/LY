<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title></title>
	<meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
	<script src="Scripts/knockout-3.4.2.debug.js"></script>
	<script src="http://localhost:53201/CSharp?Me.js"></script>
	<script src="/Scripts/Gods.Web.js"></script>
	<script src="Daily.js"></script>
	<link href="Daily.css" rel="stylesheet" />
</head>
<body>
	<!--ko if:!Name()-->
	<form>
		<input type="text" required name="name" placeholder="用户名" />
		<input type="password" required name="password" placeholder="密码" />
		<input type="button" value="确定" onclick="me.WakeUp(this);" />
	</form>
	<!--/ko-->
	<!--ko if:Name()&&!CurrentPlan()-->
	<div>
		<h1 data-bind="text:Name" onclick="me.Sleep();"></h1>
		<ul data-bind="foreach: Plans">
			<li>
				<h5 data-bind="text: Content,click:function(){me.QueryEfforts(Id);}"></h5>
				<time data-bind="text: AppearTime"></time>
				~<time data-bind="text: DoneTime()||'X',click:function(){if(!DoneTime()){me.GiveUp(Id);}}"></time>
			</li>
		</ul>
		<form>
			<input name="thing" required data-bind="value:PendingPlan" />
			<input type="button" onclick="me.Desire(this);this.previousElementSibling.focus();" value="新添" />
		</form>
		<form data-csharp="QueryPlans">
			<label><input type="radio" name="done" value="" data-bind="checked:DoneState" />全部</label>
			<label><input type="radio" name="done" value="false" data-bind="checked:DoneState" />未完成</label>
			<label><input type="radio" name="done" value="true" data-bind="checked:DoneState" />已完成</label>
			<label><input type="number" name="start" min="1990" max="9999" />年</label>
			<input type="button" value="查询" onclick="me.QueryPlans();" />
		</form>
	</div>
	<!--/ko-->
	<div data-bind="with:CurrentPlan">
		<h1 data-bind="text:Content,click:function(){$root.CurrentPlan(null);}"></h1>
		<time data-bind="text: AppearTime"></time>

		<form data-bind="visible:!DoneTime()">
			<input type="hidden" name="planId" data-bind="value: Id" />
			<textarea name="content" data-bind="value:$root.PendingEffort" required></textarea>
			<div>
				<label>已完成：<input type="checkbox" name="done" value="true" /></label>
				<input type="button" value="继续努力" onclick="me.Pay(this);" />
			</div>
		</form>
		<ul data-bind="foreach:Efforts">
			<li>
				<article data-bind="text: Content"></article>
				<time data-bind="text: AppearTime"></time>
				<span data-bind="click:function(){if(confirm('白废了？')){DeleteEffort(Id);}}">X</span>
			</li>
		</ul>
	</div>
	<form action="/" method="post">
		<input type="hidden" name="PlanId" value="1" />
		<input type="button" name="name" value="123123" onclick="me.TestObject(this);" />
	</form>
	<script type="text/javascript">

	</script>
</body>
</html>